(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(14),c=t.n(r),o=t(2),i=function(e){var n=e.inputValue,t=e.filterFunction;return u.a.createElement("div",null,"filter show for: ",u.a.createElement("input",{value:n,onChange:t}))},l=function(e){var n=e.onSubmitFun,t=e.nameInput,a=e.nameFunc,r=e.numberInput,c=e.numberFunc;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:t,onChange:a})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:r,onChange:c})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.persons,t=e.currFilter,a=e.deleteEntry;function r(e,n){window.confirm("Do you want to delete '".concat(e.name,"'?"))&&n(e.id)}return void 0===n[n.length-1]?n.slice(0,n.length-1).filter((function(e){return e.name.includes(t)})).map((function(e){return u.a.createElement("p",{key:e.id},e.name," ",e.number," ",u.a.createElement("button",{value:e.id,onClick:function(){return r(e,a)}},"delete"))})):n.filter((function(e){return e.name.includes(t)})).map((function(e){return u.a.createElement("p",{key:e.id},e.name," ",e.number," ",u.a.createElement("button",{value:e.id,onClick:function(){return r(e,a)}},"delete"))}))},m=t(4),f={background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},b=function(e){var n=e.message;if(null===n)return null;var t=Object(m.a)(Object(m.a)({},f),{},{color:"green"});return u.a.createElement("div",{style:t},n)},s=function(e){var n=e.message;if(null===n)return null;var t=Object(m.a)(Object(m.a)({},f),{},{color:"red"});return u.a.createElement("div",{style:t},n)},p=t(3),h=t.n(p),E="/api/persons",v=function(){return h.a.get(E).then((function(e){return e.data}))},g=function(e){return h.a.post(E,e).then((function(e){return e.data}))},j=function(e,n){return h.a.put("".concat(E,"/").concat(e),n).then((function(e){return e.data}))},y=function(e){return h.a.delete("".concat(E,"/").concat(e)).then((function(e){return e.data}))},O=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),m=Object(o.a)(c,2),f=m[0],p=m[1],h=Object(a.useState)(""),E=Object(o.a)(h,2),O=E[0],w=E[1],k=Object(a.useState)(""),S=Object(o.a)(k,2),F=S[0],C=S[1],I=Object(a.useState)(null),B=Object(o.a)(I,2),D=B[0],J=B[1],T=Object(a.useState)(null),V=Object(o.a)(T,2),x=V[0],z=V[1];function A(e,n){J("'".concat(e,"' has been ").concat(n)),setTimeout((function(){J(null)}),1500)}Object(a.useEffect)((function(){v().then((function(e){r(e)}))}),[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(b,{message:D}),u.a.createElement(s,{message:x}),u.a.createElement(i,{inputValue:F,filterFunction:function(e){C(e.target.value)}}),u.a.createElement("h2",null,"Add a new entry"),u.a.createElement(l,{onSubmitFun:function(e){e.preventDefault();var n={name:f,number:O,id:t[Object.keys(t)[Object.keys(t).length-1]].id+1},a=t.find((function(e){return e.name===f}));a?a.number===O?window.alert("".concat(f," is already added to phonebook")):window.confirm("'".concat(f,"' has already been added to the phone book, do you want to replace the old number with the newly input number?"))&&(n.id=a.id,j(a.id,n).then((function(e){r(t.map((function(e){return e.id!==n.id?e:n}))),p(""),w(""),A(f,"updated")})).catch((function(e){z("'".concat(f,"' has been already been deleted.")),setTimeout((function(){z(null)}),2500),r(t.filter((function(e){return e.id!==n.id})))}))):g(n).then((function(e){A(f,"added"),r(t.concat(e)),p(""),w("")}))},nameInput:f,nameFunc:function(e){p(e.target.value)},numberInput:O,numberFunc:function(e){w(e.target.value)}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(d,{persons:t,currFilter:F,deleteEntry:function(e){y(e);var n=t.filter((function(n){return n.id!==e}));r(n)}}))};t(37);c.a.render(u.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.cc9ed727.chunk.js.map